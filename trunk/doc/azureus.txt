


Requirements

-- Python 2.2.1 or higher for fluazu-daemon
   (http://www.python.org)

-- Azureus 2.5.0.0 or higher with the XML/HTTP Plugin
   * Azureus (http://azureus.sourceforge.net)
   * XML/HTTP Plugin
    (http://azureus.sourceforge.net/plugin_details.php?plugin=xml_http_if)



Setup

1. Install your Azureus-Server. The Azureus-Server must share the filesystem
   with the frontend-server and the fluazu-daemon. (assume we use same machine
   from now on so host is "localhost")

2. Install the XML/HTTP Plugin in Azureus. Plugin-Settings as follows:
   Note: this is only an example (ongoing "localhost"-setup), you can setup the
         plugin-options as you like. only required plugin-setting is "Mode"
         which needs to be set to "full" (full is default)
   Port: 6884 (default is 6884)
   Protocol: http (default is http)
   Mode: full (default is full)
   Access: local (default is local)
   Enable Password: false (default is false)

3. Start the Azureus-Server. Use the same user/group as the webserver runs.

4. Login to torrentflux-b4rt webinterface as admin-user.
   + admin
     + transfer
       + fluazu-settings
   Enter Azureus-Server settings in the Form and save.
   Note: this is only an example (ongoing "localhost"-setup), enter the
         settings of the Azureus-Server you setup and started in 1.-3. here.
   Host: localhost
   Port: 6884
   Secure: false
   Username: none (leave empty)
   Password: none (leave empty)

5. Start fluazu-daemon
   + admin
     + transfer
       + fluazu-settings
   Just click the start-button, fluazu will startup and connect to the
   Azureus-Server. After it is connected this page will show an additional
   form which makes it possible to see and set some settings in the Azureus-
   Server (eg global bandwidth- and connection-limits)

6. Use it like you do with any other torrent-client in tfb, just use "azureus"
   as torrent-client



Limitations

Due to the Design there are some Limitations and therefore some features are
not available when using Azureus as client for a torrent-transfer.
(all features that depend on process-list or netstat-per-transfer-code)
- transfer-hosts does not contain any connection-information.
- process-list based transfer-list in superadmin does not include these
  transfers. force-stop is also not possible.
- maintenance (auto-restart of a died transfer-client-process) is not working
  for these transfers.



Check that the Azureus-plugin is working and we can communicate with it

1. open shell on server and cd to the dir "/bin/clients/fluazu/" in your
   tfb-installation. if tfb is installed in "/var/www/" this would be
   "/var/www/bin/clients/fluazu/"

2. open python. if python is in the path, just enter "python" and hit enter.
   this should open up a interactive python-interpreter with a command-prompt
   and look like this:

   $:/var/www/bin/clients/fluazu# python
   Python 2.5 (r25:51908, Sep 19 2006, 23:00:51)
   [GCC 2.95.4 20011002 (Debian prerelease)] on linux2
   Type "help", "copyright", "credits" or "license" for more information.
   >>>

3. run the dopal.interact module. for this enter the following 2 commands in the
   python-interpreter (each one followed by an enter) :

   import dopal.interact

   dopal.interact.main()

4. you are prompted to enter the Azureus-server-settings, do so.
   looks like (each one submitted with enter):

   Enter host: localhost
   Enter port (default is 6884): 6884
   Enter user name (leave blank if not applicable):

   Now you either got a connection (settings correct and Azureus-server + plugin
   setup correct) or you don't.

5. Connection Established
   Looks like:

   ------------------------

   DOPAL 0.60 - interact module

   Connection object stored in 'connection' variable.
   Plugin interface stored in 'interface' variable.

   >>>

   You can now as further test print the connection with "print connection"
   Looks like:

   >>> print connection
   DopalConnection for localhost [Azureus 2.5.0.4]

   for further from now on you may check the examples-page for dopal:
   http://dopal.sourceforge.net/examples.html

6. Connection Failed
   Looks like:

   ------------------------

   DOPAL 0.60 - interact module

   Connection object stored in 'connection' variable.

   Error getting plugin interface object - could not connect to Azureus, error:
     URLError: <urlopen error (111, 'Connection refused')> ('http://localhost:6884/process.cgi')
   >>>

   The message is 'Connection refused' and in this test-case the Azureus-server
   at localhost was not running.
   for further you may check the requirements-page for dopal:
   http://dopal.sourceforge.net/requirements.html
